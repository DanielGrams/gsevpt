{% extends "layout.html" %}
{% block title %}
{{ organization.name }}
{% endblock %}
{% block content %}

    <h1>{{ organization.name }}</h1>

    {% if current_user_member %}
    <div class="my-4">
        {{ _('You are a member of this organization.') }}
        ({% for role in current_user_member.roles %}{{ role.name }}{%if not loop.last %}, {% endif %}{% endfor %})
    </div>
    {% endif %}

    {% if can_list_members %}
    <p class="h5 mt-5">{{ _('Members') }}</p>
    <div class="table-responsive">
        <table class="table table-sm table-bordered table-hover table-striped">
            <thead>
                <tr>
                    <th>{{ _('Name') }}</th>
                    <th>{{ _('Roles') }}</th>
                </tr>
            </thead>
            <tbody>
                {% for member in organization.members %}
                    <tr>
                        <td>{{ member.user.email }}</td>
                        <td>{% for role in member.roles %}{{ role.name }}{%if not loop.last %}, {% endif %}{% endfor %}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% endif %}

{% endblock %}